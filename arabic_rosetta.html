    <!-- Islamic Mathematics Tool -->
    <div id="islamicmath-tool" class="tool-content">
        <div class="islamic-container">
            <div class="islamic-header">
                <h1>Learn Arabic Numbers</h1>
                <p>A visual journey through Arabic numerals</p>
            </div>
            
            <!-- Learning Progress Bar -->
            <div class="learning-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <div class="progress-stages">
                    <span class="stage active" data-stage="1">Recognition</span>
                    <span class="stage" data-stage="2">Association</span>
                    <span class="stage" data-stage="3">Context</span>
                    <span class="stage" data-stage="4">Application</span>
                    <span class="stage" data-stage="5">Mastery</span>
                </div>
            </div>
            
            <!-- Main Learning Area -->
            <div class="rosetta-learning-area">
                
                <!-- Stage 1: Visual Recognition -->
                <div id="stage-recognition" class="learning-stage active">
                    <h2>Stage 1: Visual Recognition</h2>
                    <p class="stage-instruction">Look at the number. Listen. Observe the shape.</p>
                    
                    <div class="number-presentation">
                        <div class="visual-number-card" id="current-number-card">
                            <div class="number-visual">
                                <div class="quantity-dots" id="quantity-dots">
                                    <span class="dot"></span>
                                </div>
                                <div class="arabic-numeral-large">Ÿ°</div>
                                <div class="western-numeral">1</div>
                            </div>
                            <button class="sound-btn" onclick="playNumberSound(1)">üîä</button>
                        </div>
                        
                        <div class="number-navigation">
                            <button onclick="previousNumber()" class="nav-btn">‚Üê</button>
                            <div class="number-selector">
                                <span class="num-dot active" data-num="0"></span>
                                <span class="num-dot" data-num="1"></span>
                                <span class="num-dot" data-num="2"></span>
                                <span class="num-dot" data-num="3"></span>
                                <span class="num-dot" data-num="4"></span>
                                <span class="num-dot" data-num="5"></span>
                                <span class="num-dot" data-num="6"></span>
                                <span class="num-dot" data-num="7"></span>
                                <span class="num-dot" data-num="8"></span>
                                <span class="num-dot" data-num="9"></span>
                            </div>
                            <button onclick="nextNumber()" class="nav-btn">‚Üí</button>
                        </div>
                    </div>
                    
                    <button class="continue-btn" onclick="checkStageProgress()">Continue ‚Üí</button>
                </div>
                
                <!-- Stage 2: Association -->
                <div id="stage-association" class="learning-stage">
                    <h2>Stage 2: Visual Association</h2>
                    <p class="stage-instruction">Match the Arabic numeral with the quantity</p>
                    
                    <div class="association-exercise">
                        <div class="arabic-prompt">
                            <span id="arabic-to-match">Ÿ£</span>
                        </div>
                        
                        <div class="quantity-options">
                            <div class="qty-option" onclick="checkQuantity(2)" data-qty="2">
                                <div class="dots-container">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </div>
                            </div>
                            <div class="qty-option" onclick="checkQuantity(3)" data-qty="3">
                                <div class="dots-container">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </div>
                            </div>
                            <div class="qty-option" onclick="checkQuantity(5)" data-qty="5">
                                <div class="dots-container">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </div>
                            </div>
                            <div class="qty-option" onclick="checkQuantity(4)" data-qty="4">
                                <div class="dots-container">
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                    <span class="dot"></span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="feedback-area" id="association-feedback"></div>
                    </div>
                    
                    <div class="progress-tracker">
                        <span class="completed">‚úì</span>
                        <span class="completed">‚úì</span>
                        <span class="current">‚óè</span>
                        <span>‚óã</span>
                        <span>‚óã</span>
                    </div>
                </div>
                
                <!-- Stage 3: Contextual Learning -->
                <div id="stage-context" class="learning-stage">
                    <h2>Stage 3: Real World Context</h2>
                    <p class="stage-instruction">See how numbers are used in daily life</p>
                    
                    <div class="context-scenarios">
                        <div class="scenario-card active">
                            <div class="scenario-image">
                                <div class="fruit-stand">
                                    <div class="fruit-group">
                                        üçéüçéüçé
                                    </div>
                                    <div class="price-tag">
                                        <span class="arabic-price">Ÿ£</span>
                                        <span class="currency">Ô∑º</span>
                                    </div>
                                </div>
                            </div>
                            <div class="scenario-question">
                                How many apples?
                                <div class="answer-options">
                                    <button onclick="checkContext(2)">Ÿ¢</button>
                                    <button onclick="checkContext(3)">Ÿ£</button>
                                    <button onclick="checkContext(4)">Ÿ§</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="scenario-card">
                            <div class="scenario-image">
                                <div class="clock-display">
                                    <svg width="150" height="150">
                                        <circle cx="75" cy="75" r="70" fill="white" stroke="#333" stroke-width="2"/>
                                        <line x1="75" y1="75" x2="75" y2="25" stroke="#333" stroke-width="3"/>
                                        <line x1="75" y1="75" x2="110" y2="75" stroke="#333" stroke-width="2"/>
                                        <text x="75" y="20" text-anchor="middle" font-size="16">Ÿ°Ÿ¢</text>
                                        <text x="130" y="80" text-anchor="middle" font-size="16">Ÿ£</text>
                                        <text x="75" y="140" text-anchor="middle" font-size="16">Ÿ¶</text>
                                        <text x="20" y="80" text-anchor="middle" font-size="16">Ÿ©</text>
                                    </svg>
                                </div>
                            </div>
                            <div class="scenario-question">
                                What time is it?
                                <div class="answer-options">
                                    <button onclick="checkContext('3:00')">Ÿ£:Ÿ†Ÿ†</button>
                                    <button onclick="checkContext('12:15')">Ÿ°Ÿ¢:Ÿ°Ÿ•</button>
                                    <button onclick="checkContext('6:30')">Ÿ¶:Ÿ£Ÿ†</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="scenario-navigator">
                        <button onclick="previousScenario()">‚Üê</button>
                        <span class="scenario-counter">1 / 5</span>
                        <button onclick="nextScenario()">‚Üí</button>
                    </div>
                </div>
                
                <!-- Stage 4: Application -->
                <div id="stage-application" class="learning-stage">
                    <h2>Stage 4: Build Understanding</h2>
                    <p class="stage-instruction">Construct numbers by combining digits</p>
                    
                    <div class="number-builder">
                        <div class="target-number">
                            <p>Build this number:</p>
                            <div class="target-display">25</div>
                        </div>
                        
                        <div class="building-area">
                            <div class="tens-place dropzone" id="tens-drop">
                                <span class="place-label">Tens</span>
                                <div class="dropped-number"></div>
                            </div>
                            <div class="ones-place dropzone" id="ones-drop">
                                <span class="place-label">Ones</span>
                                <div class="dropped-number"></div>
                            </div>
                        </div>
                        
                        <div class="number-palette">
                            <div class="draggable-number" draggable="true" data-value="0">Ÿ†</div>
                            <div class="draggable-number" draggable="true" data-value="1">Ÿ°</div>
                            <div class="draggable-number" draggable="true" data-value="2">Ÿ¢</div>
                            <div class="draggable-number" draggable="true" data-value="3">Ÿ£</div>
                            <div class="draggable-number" draggable="true" data-value="4">Ÿ§</div>
                            <div class="draggable-number" draggable="true" data-value="5">Ÿ•</div>
                            <div class="draggable-number" draggable="true" data-value="6">Ÿ¶</div>
                            <div class="draggable-number" draggable="true" data-value="7">Ÿß</div>
                            <div class="draggable-number" draggable="true" data-value="8">Ÿ®</div>
                            <div class="draggable-number" draggable="true" data-value="9">Ÿ©</div>
                        </div>
                        
                        <button class="check-btn" onclick="checkBuiltNumber()">Check</button>
                        <div id="builder-feedback"></div>
                    </div>
                </div>
                
                <!-- Stage 5: Mastery -->
                <div id="stage-mastery" class="learning-stage">
                    <h2>Stage 5: Demonstrate Mastery</h2>
                    <p class="stage-instruction">Complete real-world tasks using Arabic numbers</p>
                    
                    <div class="mastery-challenges">
                        <div class="challenge-card active">
                            <h3>Shopping Challenge</h3>
                            <div class="shop-items">
                                <div class="shop-item">
                                    <span class="item">üìö</span>
                                    <span class="item-price">Ÿ°Ÿ• Ô∑º</span>
                                </div>
                                <div class="shop-item">
                                    <span class="item">‚úèÔ∏è</span>
                                    <span class="item-price">Ÿ£ Ô∑º</span>
                                </div>
                                <div class="shop-item">
                                    <span class="item">üé®</span>
                                    <span class="item-price">Ÿß Ô∑º</span>
                                </div>
                            </div>
                            <div class="challenge-question">
                                <p>Total cost for all items?</p>
                                <input type="text" id="total-answer" placeholder="Type in Arabic numerals">
                                <button onclick="checkTotal()">Submit</button>
                            </div>
                        </div>
                        
                        <div class="challenge-card">
                            <h3>Phone Number Challenge</h3>
                            <div class="phone-display">
                                <p>Write this phone number in Arabic:</p>
                                <div class="western-phone">05-234-7891</div>
                                <input type="text" id="phone-answer" placeholder="Ÿ†Ÿ•-Ÿ¢Ÿ£Ÿ§-ŸßŸ®Ÿ©Ÿ°">
                                <button onclick="checkPhone()">Submit</button>
                            </div>
                        </div>
                        
                        <div class="challenge-card">
                            <h3>Math Challenge</h3>
                            <div class="math-problem">
                                <span class="problem">Ÿ® + Ÿ¶ = ?</span>
                                <input type="text" id="math-answer" placeholder="Answer in Arabic">
                                <button onclick="checkMath()">Submit</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mastery-progress">
                        <div class="stars">
                            <span class="star earned">‚≠ê</span>
                            <span class="star earned">‚≠ê</span>
                            <span class="star">‚≠ê</span>
                        </div>
                        <p class="mastery-status">2 of 3 challenges completed</p>
                    </div>
                </div>
                
                <!-- Completion Certificate -->
                <div id="completion-certificate" class="learning-stage">
                    <div class="certificate">
                        <h1>üèÜ Certificate of Achievement</h1>
                        <p class="cert-text">Congratulations! You have mastered</p>
                        <h2>Arabic Numbers 0-9</h2>
                        <div class="mastered-numbers">
                            <span>Ÿ†</span><span>Ÿ°</span><span>Ÿ¢</span><span>Ÿ£</span><span>Ÿ§</span>
                            <span>Ÿ•</span><span>Ÿ¶</span><span>Ÿß</span><span>Ÿ®</span><span>Ÿ©</span>
                        </div>
                        <div class="achievement-badges">
                            <div class="badge">
                                <span class="badge-icon">üëÅÔ∏è</span>
                                <span class="badge-text">Visual Recognition</span>
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üîó</span>
                                <span class="badge-text">Association</span>
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üåç</span>
                                <span class="badge-text">Context</span>
                            </div>
                            <div class="badge">
                                <span class="badge-icon">üîß</span>
                                <span class="badge-text">Application</span>
                            </div>
                            <div class="badge">
                                <span class="badge-icon">‚≠ê</span>
                                <span class="badge-text">Mastery</span>
                            </div>
                        </div>
                        <button class="restart-btn" onclick="restartLearning()">Learn More Numbers ‚Üí</button>
                    </div>
                </div>
            </div>
            
            <!-- Learning Dashboard -->
            <div class="learning-dashboard">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <span class="stat-label">Numbers Learned</span>
                        <span class="stat-value" id="numbers-learned">0/10</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Current Stage</span>
                        <span class="stat-value" id="current-stage">Recognition</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Accuracy</span>
                        <span class="stat-value" id="accuracy">100%</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-label">Time Spent</span>
                        <span class="stat-value" id="time-spent">0:00</span>
                    </div>
                </div>
            </div>
            
            <!-- End of Islamic Tool Modes -->
        </div>
    </div>